{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">

    <!-- Head Start -->

    <head>
    <title>HexTrack - PulseChain Portfolio Tracker - Positions</title>
    <meta content="Monitor your coin positions on Pulsechain. Enter the coin you pourchased, the quantity and price at time of purchase. Head over to the dashboard to view your stats and position data." name="description">
    {% include 'head.html' %}
    </head>

    <!-- Canonical -->
    <link rel="canonical" href="https://hextrack.app/positions/" />

    <!-- Head End -->


        <!-- Navbar & Hero Start -->
        {% include 'navbar.html' %}
        <!-- Navbar & Hero End -->
<body id="bootstrap-overrides">
        <style>.left {margin-left: 75px;}</style>
        <!-- Add Position Start -->
        <div style="padding-top:10px">
            <div class="signupFrm" style="margin-top: 80px">
                <div class="wrapper">
                    <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
                    <form action="" class="form" method="POST">
                        {% csrf_token %}
                      <h2 class="text-primary-gradient fw-medium loginmg" style="padding-bottom: 15px">Add Lost/Found Item</h2>

                      <div class="inputContainer">
                        {% render_field form.title class="input" placeholder="a" %}
                        <label for="" class="label">Title</label>
                      </div>

                      <div class="inputContainer">
                        {% render_field form.location min=0.00000001 class="input" placeholder="a" %}
                        <label for="" class="label">Location</label>
                      </div>

                      <div class="inputContainer">
                        {% render_field form.image type="file" style="line-height: normal !important;margin-left: 75px;" placeholder="" %}
                        <label for="" class="label">Image</label>
                      </div>

                      <div class="inputContainer">
                        {% render_field form.description class="input" placeholder="a" %}
                        <label for="" class="label">Description</label>
                      </div>

                      <div>
                        <input id="createAccountButton" type="submit" class="btn btn-primary-gradient rounded-pill py-2 px-4 ms-3 d-none d-lg-block" value="Submit">
                      </div>
                    </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Position End -->

        <!-- Current Positions Start -->
        <div class="container-xxl py-5">
            <div class="positionsTable">
                <div class="row gy-5 gx-4 justify-content-center">
                    <div class="text-center wow fadeInUp formtable" data-wow-delay="0.5s">
                        <h2 class="text-primary-gradient fw-medium loginmg">Current Positions ({{total_positions}})</h2>
                        <hr>
                            <div class="card card-body">
	                            <table class="table table-sm">
		                            <tr>
			                            <th class="text-primary-gradient fw-medium loginmg pos-tb-item">Ticker</th>
			                            <th class="text-primary-gradient fw-medium loginmg pos-tb-item">Price</th>
			                            <th class="text-primary-gradient fw-medium loginmg pos-tb-item">Quantity</th>
                                        <th class="text-primary-gradient fw-medium loginmg pos-tb-item">Remove</th>
		                            </tr>

                                    {% for pos in user_positions %}
                                    <tr>
                                        <td class="pos-tb-item">{{pos.coin}}</td>
                                        <td class="pos-tb-item">{{pos.price_per_coin}}</td>
                                        <td class="pos-tb-item">{{pos.quantity}}</td>
                                        <td><a href="{% url 'deletePosition' pos.id %}" class="btn btn-primary-gradient rounded-pill" onclick="return confirm('Are you sure?');">Delete</a></td>
                                    </tr>
                                    {% endfor %}
	                            </table>
                            </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Current Positions End -->

        <!-- Total Positions Start -->

        <div class="container-xxl py-5">
            <div class="positionsTable">
                <div class="row gy-5 gx-4 justify-content-center">
                    <div class="text-center wow fadeInUp formtable" data-wow-delay="0.5s">
                        <h2 class="text-primary-gradient fw-medium loginmg">Total Positions</h2>
                        <hr>
                            <div class="card card-body">
	                            <table class="table table-sm">
		                            <tr>
			                            <th class="text-primary-gradient fw-medium loginmg pos-tb-item">Ticker</th>
			                            <th class="text-primary-gradient fw-medium loginmg pos-tb-item">Cost Average</th>
			                            <th class="text-primary-gradient fw-medium loginmg pos-tb-item">Quantity</th>
		                            </tr>

                                    {% for pos in aggregate_positions %}
                                    <tr>
                                        <td class="pos-tb-item">{{pos.ticker}}</td>
                                        <td class="pos-tb-item">{{pos.cost}}</td>
                                        <td class="pos-tb-item">{{pos.quantity}}</td>
                                    </tr>
                                    {% endfor %}
	                            </table>
                            </div>
                    </div>
                </div>
            </div>
        </div>


      
 

        <!-- Total Positions End -->



        <!-- Footer Start -->
        {% include 'footer.html' %}
        <!-- Footer End -->


        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-lg-square back-to-top pt-2"><i class="bi bi-arrow-up text-white"></i></a>



    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="//rawgithub.com/indrimuska/jquery-editable-select/master/dist/jquery-editable-select.min.js"></script>
    <link href="{% static 'css/jquery-editable-select.min.css' %}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'lib/wow/wow.min.js' %}"></script>
    <script src="{% static 'lib/easing/easing.min.js' %}"></script>
    <script src="{% static 'lib/waypoints/waypoints.min.js' %}"></script>
    <script src="{% static 'lib/counterup/counterup.min.js' %}"></script>
    <script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>

    <!-- Template Javascript -->
    <script src="{% static 'js/main.js' %}"></script>

    <script>
        $('#id_coin').editableSelect();
    </script>
    <!--Light & Dark Mode Script -->
    {% include 'darkmode.html' %}

</body>

</html>